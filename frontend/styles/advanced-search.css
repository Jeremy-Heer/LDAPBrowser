/* Advanced Search Builder Styles */

.advanced-search-builder {
    background: #fafafa !important;
    border: 1px solid var(--lumo-contrast-20pct) !important;
    border-radius: var(--lumo-border-radius-m) !important;
    padding: var(--lumo-space-m) !important;
    margin: var(--lumo-space-xs) 0 !important;
}

.filter-groups-container {
    background: transparent !important;
    border: none !important;
    padding: 0 !important;
}

.filter-group {
    background: white !important;
    border: 1px solid var(--lumo-contrast-10pct) !important;
    border-radius: var(--lumo-border-radius-s) !important;
    padding: var(--lumo-space-s) !important;
    margin: var(--lumo-space-s) 0 !important;
}

.filter-units-container {
    background: transparent !important;
    border: none !important;
}

.search-criteria-container {
    background: white;
    border: 1px solid var(--lumo-contrast-10pct);
    border-radius: var(--lumo-border-radius-s);
    padding: var(--lumo-space-s);
    margin: var(--lumo-space-s) 0;
    min-height: 100px;
}

/* Make the criteria rows look more connected */
.search-criteria-container > div:not(:last-child) {
    border-bottom: 1px dashed var(--lumo-contrast-20pct);
    padding-bottom: var(--lumo-space-s);
    margin-bottom: var(--lumo-space-s);
}

/* Style the generated filter text area */
.advanced-search-builder textarea[readonly] {
    background-color: #f5f5f5;
    border: 1px solid var(--lumo-contrast-30pct);
    font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;
    font-size: 13px;
    color: #2563eb;
}

/* Improve the spacing of the logical operator dropdowns */
.advanced-search-builder .logical-operator {
    margin-right: var(--lumo-space-s);
}

/* Add some visual hierarchy to the search tabs */
.directory-search-sub-tab vaadin-tab-sheet {
    border: 1px solid var(--lumo-contrast-20pct);
    border-radius: var(--lumo-border-radius-m);
    background: white;
}

/* Style the basic and advanced tab content differently */
.basic-search-layout {
    background: linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%);
    border-radius: var(--lumo-border-radius-s);
}

/* CRITICAL OVERRIDE - Remove all background styling from advanced search container */
.advanced-search-container {
    background: white !important;
    background-image: none !important;
    border: none !important;
    border-left: none !important;
    border-radius: 0 !important;
    padding: var(--lumo-space-m) !important;
}

/* Also handle the old class name in case it's used elsewhere */
.advanced-search-layout {
    background: white !important;
    background-image: none !important;
    border: none !important;
    border-left: none !important;
    border-radius: 0 !important;
    padding: var(--lumo-space-m) !important;
}

/* Enhance the instructions text */
.advanced-search-builder .instructions {
    background: #e0f2fe;
    border-left: 4px solid #0ea5e9;
    padding: var(--lumo-space-s);
    margin-bottom: var(--lumo-space-m);
    border-radius: 0 var(--lumo-border-radius-s) var(--lumo-border-radius-s) 0;
    font-style: italic;
    color: #0c4a6e;
}

/* AGGRESSIVE BUTTON STYLING OVERRIDES */

/* Fix buttons with small + tertiary theme combination (Add Filter Unit buttons) */
.advanced-search-builder vaadin-button[theme~="small"][theme~="tertiary"],
.advanced-search-layout vaadin-button[theme~="small"][theme~="tertiary"],
.advanced-search-container vaadin-button[theme~="small"][theme~="tertiary"] {
    background: transparent !important;
    border: 2px solid var(--lumo-primary-color) !important;
    border-style: solid !important;
    color: var(--lumo-primary-color) !important;
    border-radius: var(--lumo-border-radius-s) !important;
    padding: var(--lumo-space-xs) var(--lumo-space-s) !important;
    font-size: var(--lumo-font-size-s) !important;
    transition: all 0.2s ease !important;
    cursor: pointer !important;
}

.advanced-search-builder vaadin-button[theme~="small"][theme~="tertiary"]:hover,
.advanced-search-layout vaadin-button[theme~="small"][theme~="tertiary"]:hover,
.advanced-search-container vaadin-button[theme~="small"][theme~="tertiary"]:hover {
    background: var(--lumo-primary-color-10pct) !important;
    border: 2px solid var(--lumo-primary-color) !important;
    border-style: solid !important;
    transform: translateY(-1px) !important;
}

/* Fix buttons with error + small theme combination (Remove buttons) */
.advanced-search-builder vaadin-button[theme~="error"][theme~="small"],
.advanced-search-layout vaadin-button[theme~="error"][theme~="small"],
.advanced-search-container vaadin-button[theme~="error"][theme~="small"] {
    background: var(--lumo-error-color) !important;
    color: var(--lumo-error-contrast-color) !important;
    border: 2px solid var(--lumo-error-color) !important;
    border-style: solid !important;
    border-radius: var(--lumo-border-radius-s) !important;
    padding: var(--lumo-space-xs) var(--lumo-space-s) !important;
    font-size: var(--lumo-font-size-s) !important;
    transition: all 0.2s ease !important;
    cursor: pointer !important;
}

.advanced-search-builder vaadin-button[theme~="error"][theme~="small"]:hover,
.advanced-search-layout vaadin-button[theme~="error"][theme~="small"]:hover,
.advanced-search-container vaadin-button[theme~="error"][theme~="small"]:hover {
    background: var(--lumo-error-color-50pct) !important;
    color: var(--lumo-error-color) !important;
    border: 2px solid var(--lumo-error-color) !important;
    border-style: solid !important;
    transform: scale(1.05) !important;
}

/* Fix all other small buttons (fallback) */
.advanced-search-builder vaadin-button[theme~="small"],
.advanced-search-layout vaadin-button[theme~="small"],
.advanced-search-container vaadin-button[theme~="small"] {
    background: var(--lumo-base-color) !important;
    border: 2px solid var(--lumo-contrast-30pct) !important;
    border-style: solid !important;
    border-radius: var(--lumo-border-radius-s) !important;
    color: var(--lumo-body-text-color) !important;
    padding: var(--lumo-space-xs) var(--lumo-space-s) !important;
    font-size: var(--lumo-font-size-s) !important;
    transition: all 0.2s ease !important;
    cursor: pointer !important;
}

.advanced-search-builder vaadin-button[theme~="small"]:hover,
.advanced-search-layout vaadin-button[theme~="small"]:hover,
.advanced-search-container vaadin-button[theme~="small"]:hover {
    background: var(--lumo-contrast-5pct) !important;
    border-color: var(--lumo-contrast-50pct) !important;
    border-style: solid !important;
    transform: translateY(-1px) !important;
}

/* Responsive design for smaller screens */
@media (max-width: 768px) {
    .search-criteria-container .horizontal-layout {
        flex-direction: column;
    }
    
    .search-criteria-container .horizontal-layout > * {
        width: 100% !important;
        margin-bottom: var(--lumo-space-xs);
    }
}
